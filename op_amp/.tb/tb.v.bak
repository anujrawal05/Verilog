module tb_op_amp;
    reg clk;
    reg pin1, pin5, pin8;
    reg signed [15:0] pin2, pin3, pin4, pin7;
    wire signed [15:0] pin6;
    
    // Instantiate the op-amp
    op_amp uut(
        .pin1_offset_null(pin1),
        .pin2_inv_input(pin2),
        .pin3_noninv_input(pin3),
        .pin4_vee(pin4),
        .pin5_offset_null(pin5),
        .pin6_output(pin6),
        .pin7_vcc(pin7),
        .pin8_nc(pin8),
        .clk(clk)
    );
    
    // Clock generation
    initial clk = 0;
    always #5 clk = ~clk;
    
    initial begin
        $display("Op-Amp IC Test");
        $display("Time | Pin2(-) | Pin3(+) | Pin6(Out) | VCC | VEE");
        
        // Setup power supplies
        pin7 = 16'd15000;   // +15V
        pin4 = -16'd15000;  // -15V
        pin1 = 0;
        pin5 = 0;
        pin8 = 0;
        
        // Test 1: Small positive difference
        pin2 = 16'd100;
        pin3 = 16'd110;
        #20;
        $display("%0t | %d | %d | %d | %d | %d", 
                 $time, pin2, pin3, pin6, pin7, pin4);
        
        // Test 2: Small negative difference
        pin2 = 16'd110;
        pin3 = 16'd100;
        #20;
        $display("%0t | %d | %d | %d | %d | %d", 
                 $time, pin2, pin3, pin6, pin7, pin4);
        
        // Test 3: Large positive (saturation test)
        pin2 = 16'd0;
        pin3 = 16'd500;
        #20;
        $display("%0t | %d | %d | %d | %d | %d", 
                 $time, pin2, pin3, pin6, pin7, pin4);
        
        // Test 4: Large negative (saturation test)
        pin2 = 16'd500;
        pin3 = 16'd0;
        #20;
        $display("%0t | %d | %d | %d | %d | %d", 
                 $time, pin2, pin3, pin6, pin7, pin4);
        
        // Test 5: Equal inputs
        pin2 = 16'd200;
        pin3 = 16'd200;
        #20;
        $display("%0t | %d | %d | %d | %d | %d", 
                 $time, pin2, pin3, pin6, pin7, pin4);
        
        #50;
        $display("\nTest Complete!");
        $finish;
    end
    
endmodule